<main>
    <article id="player" style="background-image: url(https://linkstorage.linkfire.com/medialinks/images/6be07b10-061e-4ce7-a7fb-271f75f5b34c/artwork-440x440.jpg);">
        <audio #audioPlayer (timeupdate)="onTimeUpdate(audioPlayer)" controls>            
            <source [src]="currentTrack.url" type="audio/mp3">    
        </audio>

        <div class="player-controls">     
            <div class="player_group">
                <div class="player_song_image" ></div>
                <div>                    
                    <p><fa-icon [icon]="songIcon"></fa-icon>&nbsp; {{currentTrack.title}}</p>
                </div>  
            </div>            
            
            <div class="player_group">
                <button class="play-pause" (click)="togglePlayPause(audioPlayer)">
                    @if(!isPlaying) {
                        <fa-icon [icon]="playIcon"></fa-icon>

                    } @else {
                        <fa-icon [icon]="stopIcon"></fa-icon>
                    }
                </button>   

                <input type="range" class="seek-bar" [value]="audioPlayer.currentTime" (input)="seekAudio(audioPlayer, $event)" [max]="audioPlayer.duration" />               
            </div>                        
            
            <div class="volume-control player_group">            
                <label for="volume">
                    @if(volume < 1) {
                        <fa-icon [icon]="volumeLowIcon"></fa-icon>

                    } @else {
                        <fa-icon [icon]="volumeHighIcon"></fa-icon>
                    }
                </label>

                <input class="volume-bar" type="range" id="volume" min="0" max="1" step="0.01" [(ngModel)]="volume" (input)="adjustVolume(audioPlayer)"/>               
            </div>
                        
            @if(audioPlayer.duration && currentTime > 0) {                                                
                <div class="player_group">
                    <fa-icon [icon]="songTimeIcon"></fa-icon>
                    
                    <span class="time">
                        {{ formatTime(audioPlayer.currentTime) }} / {{ formatTime(audioPlayer.duration) }}
                    </span>
                </div>                
            }      
        </div>
    </article>

    <aside id="aside_box">
        <section id="playlist_content">
            <header>
                <h3>Playlists</h3>
                <div class="playlist_controls">
                    <button>
                        <fa-icon [icon]="upIcon"></fa-icon>                     
                    </button>
    
                    <button>
                        <fa-icon [icon]="downIcon"></fa-icon>                    
                    </button>
                </div>            
            </header>

            <div class="playlist_item">
                <div>Playlist n</div>
                <div>325 songs</div>                                
                <div class="playlist_item_actions">
                    <div>
                        <fa-icon [icon]="editPlaylistIcon"></fa-icon>
                    </div>

                    <div>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>
                    </div>                
                </div>            
            </div>
    
            <div class="playlist_item">
                <div>Playlist n+1</div>
                <div>325 songs</div>                
                <div class="playlist_item_actions">
                    <div>
                        <fa-icon [icon]="editPlaylistIcon"></fa-icon>
                    </div>

                    <div>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>
                    </div>          
                </div>            
            </div>
    
            <div class="playlist_item">
                <div>Playlist n+2</div>
                <div>325 songs</div>                
                <div class="playlist_item_actions">
                    <div>
                        <fa-icon [icon]="editPlaylistIcon"></fa-icon>
                    </div>

                    <div>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>
                    </div>            
                </div>            
            </div>
        </section>

        <section id="playlist_content">
            <header>
                <h3>Playlist songs</h3>
                <div class="playlist_controls">
                    <button>
                        <fa-icon [icon]="upIcon"></fa-icon>                     
                    </button>
    
                    <button>
                        <fa-icon [icon]="downIcon"></fa-icon>                    
                    </button>
                </div>     
            </header>

            <div class="playlist_item">
                <div>1</div>
                <div class="player_song_image" style="background-image: url(https://i1.sndcdn.com/artworks-000186538711-d19l93-t500x500.jpg);"></div>
                <div>Jim Yosef - Link</div>
                <div>
                    <button>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>                    
                    </button>
                    
                    <button>
                        <fa-icon [icon]="upIcon"></fa-icon>                     
                    </button>
    
                    <button>
                        <fa-icon [icon]="downIcon"></fa-icon>                    
                    </button>
                </div>
            </div>

            <div class="playlist_item">
                <div>2</div>
                <div style="background-image: url(https://i1.sndcdn.com/artworks-000075049437-nhywpg-t500x500.jpg);"></div>
                <div>Tobu- Go</div>
                <div>
                    <button>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>                    
                    </button>
                    
                    <button>
                        <fa-icon [icon]="upIcon"></fa-icon>                     
                    </button>
    
                    <button>
                        <fa-icon [icon]="downIcon"></fa-icon>                    
                    </button>
                </div>
            </div>

            <div class="playlist_item">
                <div>3</div>
                <div style="background-image: url(https://linkstorage.linkfire.com/medialinks/images/6be07b10-061e-4ce7-a7fb-271f75f5b34c/artwork-440x440.jpg);"></div>
                <div>Jim Yosef - Up</div>
                <div>
                    <button>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>                    
                    </button>
                    
                    <button>
                        <fa-icon [icon]="upIcon"></fa-icon>                     
                    </button>
    
                    <button>
                        <fa-icon [icon]="downIcon"></fa-icon>                    
                    </button>
                </div>
            </div>

            <div class="playlist_item">
                <div>4</div>
                <div style="background-image: url(https://ncsmusic.s3.eu-west-1.amazonaws.com/tracks/000/000/172/1000x0/arrow-1586947152-LUmQRKQIRc.jpg);"></div>
                <div>Jim Yosef - Arrow</div>
                <div>
                    <button>
                        <fa-icon [icon]="deletePlaylistIcon"></fa-icon>                    
                    </button>
                    
                    <button>
                        <fa-icon [icon]="upIcon"></fa-icon>                     
                    </button>
    
                    <button>
                        <fa-icon [icon]="downIcon"></fa-icon>                    
                    </button>
                </div>
            </div>
        </section>
    </aside>
</main>